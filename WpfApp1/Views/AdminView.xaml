<Window x:Class="ProdavnicaApp.AdminView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="{DynamicResource TitleAdmin}"
        WindowState="Maximized"
        WindowStyle="SingleBorderWindow"
        ResizeMode="CanMinimize"
        Background="{DynamicResource MaterialDesignPaper}"
        Foreground="{DynamicResource MaterialDesignBodyLight}">

    <DockPanel Margin="20">

        <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" HorizontalAlignment="Right" Margin="0,0,0,20">
            <ComboBox x:Name="ThemeComboBox" Width="150" Margin="10" SelectionChanged="ThemeComboBox_SelectionChanged"
                      Foreground="{DynamicResource MaterialDesignBody}">
                <ComboBoxItem Content="{DynamicResource ThemeFirst}" Tag="LightPurpleLime"/>
                <ComboBoxItem Content="{DynamicResource ThemeSecond}" Tag="DarkPurpleAmber"/>
                <ComboBoxItem Content="{DynamicResource ThemeThird}" Tag="DarkGreenPink"/>
            </ComboBox>

            <ComboBox x:Name="LanguageComboBox" Width="150" SelectionChanged="Language_SelectionChanged" Margin="10">
                <ComboBoxItem Tag="sr">
                    <StackPanel Orientation="Horizontal">
                        <Image Source="/Resources/Flags/sr.png" Width="20" Height="15" Margin="0,0,5,0"/>
                        <TextBlock Text="Srpski"
                                   Foreground="{DynamicResource MaterialDesignBody}"/>
                    </StackPanel>
                </ComboBoxItem>
                <ComboBoxItem Tag="en">
                    <StackPanel Orientation="Horizontal">
                        <Image Source="/Resources/Flags/en.png" Width="20" Height="15" Margin="0,0,5,0"/>
                        <TextBlock Text="English"
                                   Foreground="{DynamicResource MaterialDesignBody}"/>
                    </StackPanel>
                </ComboBoxItem>
            </ComboBox>
        </StackPanel>

        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel>

                <materialDesign:Card Margin="0,0,0,20" Padding="20">
                    <StackPanel>
                        <TextBlock Text="{DynamicResource AddCategory}" FontWeight="Bold" FontSize="18" Margin="0,0,0,10"
                                   Foreground="{DynamicResource MaterialDesignBody}"/>
                        <TextBox x:Name="KategorijaNazivTextBox" Width="300" Margin="0,5"
                                 materialDesign:HintAssist.Hint="{DynamicResource CategoryName}"
                                 Foreground="{DynamicResource MaterialDesignBody}"/>
                        <Button Content="{DynamicResource AddCategory}" Width="150" Margin="0,10,0,0" 
                                Click="DodajKategoriju_Click"/>
                    </StackPanel>
                </materialDesign:Card>

                <materialDesign:Card Margin="0,0,0,20" Padding="20">
                    <StackPanel>
                        <TextBlock Text="{DynamicResource AddProduct}" FontWeight="Bold" FontSize="18" Margin="0,0,0,10"
                                   Foreground="{DynamicResource MaterialDesignBody}"/>
                        <TextBox x:Name="ProizvodNazivTextBox" Width="300" Margin="0,5"
                                 materialDesign:HintAssist.Hint="{DynamicResource ProductName}"
                                 Foreground="{DynamicResource MaterialDesignBody}"/>
                        <TextBox x:Name="ProizvodOpisTextBox" Width="300" Margin="0,5"
                                 materialDesign:HintAssist.Hint="{DynamicResource Description}"
                                 Foreground="{DynamicResource MaterialDesignBody}"/>
                        <TextBox x:Name="ProizvodCijenaTextBox" Width="300" Margin="0,5"
                                 materialDesign:HintAssist.Hint="{DynamicResource Price}"
                                 Foreground="{DynamicResource MaterialDesignBody}"/>
                        <TextBox x:Name="ProizvodNaStanjuTextBox" Width="300" Margin="0,5"
                                 materialDesign:HintAssist.Hint="{DynamicResource InStock}"
                                 Foreground="{DynamicResource MaterialDesignBody}"/>
                        <ComboBox x:Name="KategorijeComboBox" Width="300" Margin="0,5"
                                  DisplayMemberPath="Naziv"
                                  materialDesign:HintAssist.Hint="{DynamicResource Category}"
                                  Foreground="{DynamicResource MaterialDesignBody}"/>
                        <Button Content="{DynamicResource AddProduct}" Width="150" Margin="0,10,0,0" Click="DodajProizvod_Click"/>
                    </StackPanel>
                </materialDesign:Card>

                <materialDesign:Card Margin="0,0,0,20" Padding="20">
                    <StackPanel>
                        <TextBlock Text="{DynamicResource UsersTitle}" FontWeight="Bold" FontSize="18" Margin="0,0,0,10"
                                   Foreground="{DynamicResource MaterialDesignBody}"/>
                        <ListBox x:Name="KorisniciListBox" Width="500" Height="200">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Margin="5">
                                        <TextBlock Text="{Binding Id}" FontWeight="Bold"/>
                                        <TextBlock Text="{Binding Ime}" FontWeight="Bold"/>
                                        <TextBlock Text="{Binding Email}"/>
                                        <TextBlock Text="{Binding DatumRegistracije, StringFormat='dd.MM.yyyy'}"/>
                                    </StackPanel>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </StackPanel>
                </materialDesign:Card>

                <materialDesign:Card Margin="0,0,0,20" Padding="20">
                    <StackPanel>
                        <TextBlock Text="{DynamicResource OrdersTitle}" FontWeight="Bold" FontSize="18" Margin="0,0,0,10"
                                   Foreground="{DynamicResource MaterialDesignBody}"/>
                        <DataGrid x:Name="NarudzbeDataGrid"
                                  AutoGenerateColumns="False"
                                  Height="300"
                                  CanUserAddRows="False"
                                  IsReadOnly="True"
                                  Foreground="{DynamicResource MaterialDesignBody}">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="{DynamicResource OrderId}" Binding="{Binding Id}" 
                                                    Width="Auto"/>
                                <DataGridTextColumn Header="{DynamicResource UserId}" Binding="{Binding KorisnikId}" 
                                                    Width="Auto"/>
                                <DataGridTextColumn Header="{DynamicResource AddressId}" Binding="{Binding AdresaId}" 
                                                    Width="Auto"/>
                                <DataGridTextColumn Header="{DynamicResource OrderDate}" Binding="{Binding DatumNarudzbe}" 
                                                    Width="*"/>
                                <DataGridTextColumn Header="{DynamicResource Total}" Binding="{Binding UkupnaCijena}" 
                                                    Width="*"/>
                                <DataGridTextColumn Header="{DynamicResource Status}" Binding="{Binding Status}" 
                                                    Width="*"/>

                                <DataGridTemplateColumn Header="Akcija">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Button Content="Promijeni" Click="PromijeniStatus_Click"
                                                    Style="{StaticResource MaterialDesignFlatButton}"
                                                    Foreground="{DynamicResource SecondaryHueMidBrush}" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </StackPanel>
                </materialDesign:Card>

                <materialDesign:Card Margin="0,0,0,20" Padding="20">
                    <StackPanel>
                        <TextBlock Text="{DynamicResource AddCouponAdmin}" FontWeight="Bold" FontSize="18" Margin="0,0,0,10"
                                   Foreground="{DynamicResource MaterialDesignBody}"/>
                        <TextBox x:Name="KuponKodTextBox" Width="300" Margin="0,5"
                                 materialDesign:HintAssist.Hint="{DynamicResource AddCouponCode}"
                                 Foreground="{DynamicResource MaterialDesignBody}"/>
                        <TextBox x:Name="KuponPopustTextBox" Width="300" Margin="0,5"
                                 materialDesign:HintAssist.Hint="{DynamicResource CouponDiscount}"
                                 Foreground="{DynamicResource MaterialDesignBody}"/>
                        <DatePicker x:Name="KuponVaziDoPicker" Width="300" Margin="0,5"
                                    materialDesign:HintAssist.Hint="{DynamicResource CouponValidUntil}"
                                    Foreground="{DynamicResource MaterialDesignBody}"/>
                        <Button Content="{DynamicResource AddCouponAdmin}" Width="150" Margin="0,10,0,0" 
                                Click="DodajKupon_Click"/>
                    </StackPanel>
                </materialDesign:Card>

                <Button Content="{DynamicResource Logout}"
                        Width="120"
                        Height="40"
                        HorizontalAlignment="Left"
                        Margin="0,0,0,20"
                        Click="Logout_Click"
                        Style="{StaticResource MaterialDesignFlatButton}"/>

            </StackPanel>
        </ScrollViewer>
    </DockPanel>
</Window>
